{% extends "layout_statistics.html" %}
{% block content %}

<div class="a">
    <h1>Statistics Page</h1>
    <br>
    <h5>View users feedbacks and statistics</h5>
</div>


<div class = "container mt-5">
    <div class = "row">
        <div class = "col-md-5">
            <img src="{{ url_for('static', filename='images/Statistics_graph1.png') }}">
        </div>
        <div class = "col-md-7">
            <h2>'Bonus'</h2><br><h5 class = "text-left">is the most frequently searched word this month!</h5>
        </div>
    </div>
</div>


<div class = "middle-spacer"></div>

<div class = "container mt-5">    
    <div class = "row mt-5">
        <div class = "col-md-7">
            <h3 class = "text-center">Topics that need clarification</h3><br>
            {% if dataBoolean == True %}
            <h5 class = "text-center">&#8226;  <strong>{{labels[biggestNumCount]}}</strong> is the most misunderstood topic with total of {{biggestNum}} feedbacks</h5><br>
            <h5 class = "text-center">&#8226;  <strong>{{labels[lowestNumCount]}}</strong> has relatively lower doubts among the employees as compared to other topics</h5>
            {% else %}
            <h4 class = "text-center mt-3">No Data</h4>
            {% endif %}
            
        </div>
        <div class = "col-md-5">
            <canvas id="barGraph" width="550" height="400"></canvas>
            <script>
               var ctx = document.getElementById("barGraph").getContext("2d");
               var barGraph = new Chart(ctx, {
                   type: "bar",
                   data: {
                       labels: {{ labels | safe}},
                       datasets: [
                           {
                               label: "Feedback Count",
                               data: {{ values | safe}},
                               barThickness: 75,
                               maxBarThickness: 120,
                               minBarLength: 2,
                               backgroundColor: 'rgba(255, 159, 64, 0.6)'
                               
                           }
                       ]
                   },
                   options : {
                       responsive: false,
                       scales: {
                            y: {
                                suggestedMin: 0,
                                suggestedMax: 6
                            }
                        }
                   }
               }) 
            </script>
            
        </div>
    </div>
</div>

<div class = "middle-spacer"></div>

<div class = "container">
    <div class = "row mt-5">
        <div class = "col-md-6">
           <h3 margin-left="30">Website User Experience</h3><br>

           <canvas id="barGraphUX" width="470" height="380"></canvas>
           <script>
            var ctx = document.getElementById("barGraphUX").getContext("2d");
            var barGraph = new Chart(ctx, {
                type: "bar",
                data: {
                    labels: [1,2,3,4,5],
                    datasets: [
                        {
                            label: "Secretary",
                            backgroundColor: 'rgba(255, 99, 132, 0.6)',
                            data: {{values3 | safe}}
                        },
                        {
                            label: "Employer",
                            backgroundColor: 'rgba(255, 205, 86, 0.6)',
                            data: {{values2 | safe}}
                        },
                        {
                            label: "Employee",
                            backgroundColor: 'rgba(153, 102, 255, 0.6)',
                            data: {{values1 | safe}}
                        }
                    ]
                },
                options : {
                    responsive: false
                }
            }) 
         </script>
            <br>
            <div class = "row">
                <div class = "col-md-6">
                    <h5 class = "text-left"> Poor</h5>
                </div>
            
                <div class = "col-md-6 pr-4">
                    <h5 class = "text-right"> Excellent</h5>
                </div>
            </div>
        </div>
        <div class = "col-md-6">
            <div class = "spacer">
                <h3 class = "ml-4">Word Cloud Feedback</h3>
            </div>
            <div class = "row">
                <div class = "col-md-3">
                    <h4 class="text-left">Positive:</h4>
                </div>
                <div class = "col-md-9">
                    <img src="{{ url_for('static', filename='images/Statistics_graph4.png') }}"width="430" height="170">
                </div>
            </div>
            <div class = "row mt-4">
                <div class = "col-md-3">
                    <h4 class="text-left">Negative:</h4>
                </div>
                <div class = "col-md-9">
                    <img src="{{ url_for('static', filename='images/Statistics_graph5.png') }}"width="430" height="170">
                </div>
            </div>
             

        </div>
    </div>
</div>
{% endblock %}


























































































































